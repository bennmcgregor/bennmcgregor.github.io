{"version":3,"sources":["webpack:///./node_modules/@emotion/memoize/dist/memoize.browser.esm.js","webpack:///./node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js","webpack:///./src/components/interactive/painter/paint.js","webpack:///./src/components/interactive/painter/canvas.js","webpack:///./src/pages/interactive-synesthesia.js","webpack:///./src/components/css/main-page/interactive/canvas.module.css","webpack:///./node_modules/popmotion/dist/popmotion.es.js","webpack:///./src/components/css/main-page/interactive/paint.module.css"],"names":["reactPropsRegex","index","fn","cache","arg","undefined","prop","test","charCodeAt","Paint","props","componentWillUnmount","render","div","className","pStyles","note","drag","dragConstraints","this","container","dragElastic","dragMomentum","Component","Canvas","canvasBorder","React","createRef","state","componentDidMount","cStyles","ref","InteractivePage","title","keywords-","name","href","displayType","module","exports","Observer","_a","observer","_this","middleware","onComplete","isActive","update","v","updateObserver","complete","error","err","length","forEach","m","createObserver","observerCandidate","Action","prototype","create","start","isComplete","subscription","stop","init","observerProps","api","applyMiddleware","concat","pipe","funcs","_i","arguments","pipedUpdate","apply","action","unitTypes","findUnitType","find","type","createAction","createUnitAction","from","to","unitType","transform","parse","createMixerAction","mixer","createColorAction","createComplexAction","createVectorAction","typeTests","testNames","Object","keys","isVectorProp","key","getVectorKeys","reduce","vectorKeys","push","testVectorProps","some","createVectorTests","testProp","getActionCreator","Boolean","isUnitProp","vectorDecay","_b","velocity","_c","_d","power","_e","timeConstant","_f","restDelta","modifyTarget","elapsed","amplitude","idealTarget","Math","round","target","process","frameDelta","delta","exp","isMoving","func","vectorSpring","stiffness","damping","_g","mass","_h","restSpeed","_j","initialVelocity","t","position","prevPosition","timeDelta","dampingRatio","sqrt","angularFreq","envelope","expoDecay","sin","cos","isBelowVelocityThreshold","abs","isBelowDisplacementThreshold","min","max","bounceStiffness","bounceDamping","activeAnimation","_complete","prev","current","isSpring","isLessThanMin","isMoreThanMax","isOutOfBounds","onUpdate","currentVelocity","isTravellingAwayFromBounds","startSpring","startAnimation","animation","next","vectorScrubber","ease","reverseEase","seek","progress","clampProgress","tween","duration","flip","loop","yoyo","repeatDelay","_k","_l","flipCount","_m","yoyoCount","_o","loopCount","playhead","currentProgress","_isActive","reverseAnimation","updateTween","startTimer","stopTimer","getElapsed","getProgress","pause","resume","newProgress","reverse","clampProgress$1","keyframes","easings","times","values","tweenProps","Array","isArray","easing","map","splice","defaultEasings","numValues","value","i","defaultTimings","scrubbers","input","rangeLength","finalInputIndex","finalScrubberIndex","subs","scrub","progressInRange","interpolateScrubbers","listen","element","events","options","eventNames","split","eventName","addEventListener","removeEventListener","defaultPointerPos","clientX","clientY","pageX","pageY","x","y","eventToPoint","e","point","points","document","passive","capture","touches","numTouches","thisTouch","delay","timeToDelay","timeout","setTimeout","clearTimeout"],"mappings":"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","file":"component---src-pages-interactive-synesthesia-js-db3a2cbf3d10564c3f5b.js","sourcesContent":["function memoize(fn) {\n  var cache = {};\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport default memoize;","import memoize from '@emotion/memoize';\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar index = memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\nexport default index;","import React, {Component} from 'react'\nimport { motion } from 'framer-motion'\n\nimport pStyles from '../../css/main-page/interactive/paint.module.css'\n\nclass Paint extends Component {\n  constructor(props) {\n    super(props);\n\n  }\n\n  componentWillUnmount() {\n    //upsert the saved element/position as a percentage (via elem.getBoundingClientRect) to the database\n  }\n\n  render () {\n    return (\n      <motion.div \n        className={pStyles.note}\n        drag\n        dragConstraints={this.props.container}\n        dragElastic={0.05}\n        dragMomentum={false}\n      />\n    );\n  }\n}\n\nexport default Paint\n","import React, { Component } from 'react'\nimport { motion } from 'framer-motion'\n\nimport Paint from './paint'\nimport cStyles from '../../css/main-page/interactive/canvas.module.css'\n\nclass Canvas extends Component {\n  constructor(props) {\n    super(props);\n\n    this.canvasBorder = React.createRef();\n\n    this.state = {\n      //loading...\n    }\n  }\n\n  componentDidMount() {\n    //fetch the data for the most recent 20 pages from the database\n    //set the state to display the most recent page (an array of props to the paint object)\n  }\n\n  render () {\n    return (\n      <div className={cStyles.container} ref={this.canvasBorder} >\n        {/* the props passed to this are the position data, initial animation state, animation transition data */}\n        <Paint container={this.canvasBorder}/>\n      </div>\n    );\n  }\n}\n\nexport default Canvas\n","import React from 'react'\n\nimport Header from '../components/general/header'\nimport Layout from '../components/general/layout'\nimport SEO from '../components/general/seo'\nimport Canvas from '../components/interactive/painter/canvas'\n\nconst InteractivePage = () => (\n  <>\n    <SEO title=\"hello\" keywords-={['gatsby', 'application', 'react']} />\n    <Layout>\n      <a name=\"home\" href=\"/#home\"/>\n      <Header displayType='post'/>\n      <Canvas />\n    </Layout>\n  </>\n)\n\nexport default InteractivePage\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"canvas-module--container--XNnR-\"};","import \"core-js/modules/es.array.reduce.js\";\nimport { __rest, __assign, __extends } from 'tslib';\nimport { pipe, velocityPerSecond, mixComplex, mixColor, mix, clamp, progress, velocityPerFrame, distance, angle, applyOffset } from '@popmotion/popcorn';\nimport sync, { getFrameData, cancelSync } from 'framesync';\nimport { color, complex, px, percent, degrees, vh, vw, number } from 'style-value-types';\nimport { createReversedEasing, linear, easeOut, easeInOut } from '@popmotion/easing';\nimport { invariant } from 'hey-listen';\n\nvar Observer = /*#__PURE__*/function () {\n  function Observer(_a, observer) {\n    var _this = this;\n\n    var middleware = _a.middleware,\n        onComplete = _a.onComplete;\n    this.isActive = true;\n\n    this.update = function (v) {\n      if (_this.observer.update) _this.updateObserver(v);\n    };\n\n    this.complete = function () {\n      if (_this.observer.complete && _this.isActive) _this.observer.complete();\n      if (_this.onComplete) _this.onComplete();\n      _this.isActive = false;\n    };\n\n    this.error = function (err) {\n      if (_this.observer.error && _this.isActive) _this.observer.error(err);\n      _this.isActive = false;\n    };\n\n    this.observer = observer;\n\n    this.updateObserver = function (v) {\n      return observer.update(v);\n    };\n\n    this.onComplete = onComplete;\n\n    if (observer.update && middleware && middleware.length) {\n      middleware.forEach(function (m) {\n        return _this.updateObserver = m(_this.updateObserver, _this.complete);\n      });\n    }\n  }\n\n  return Observer;\n}();\n\nvar createObserver = function createObserver(observerCandidate, _a, onComplete) {\n  var middleware = _a.middleware;\n\n  if (typeof observerCandidate === 'function') {\n    return new Observer({\n      middleware: middleware,\n      onComplete: onComplete\n    }, {\n      update: observerCandidate\n    });\n  } else {\n    return new Observer({\n      middleware: middleware,\n      onComplete: onComplete\n    }, observerCandidate);\n  }\n};\n\nvar Action = /*#__PURE__*/function () {\n  function Action(props) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    this.props = props;\n  }\n\n  Action.prototype.create = function (props) {\n    return new Action(props);\n  };\n\n  Action.prototype.start = function (observerCandidate) {\n    if (observerCandidate === void 0) {\n      observerCandidate = {};\n    }\n\n    var isComplete = false;\n    var subscription = {\n      stop: function stop() {\n        return undefined;\n      }\n    };\n\n    var _a = this.props,\n        init = _a.init,\n        observerProps = __rest(_a, [\"init\"]);\n\n    var observer = createObserver(observerCandidate, observerProps, function () {\n      isComplete = true;\n      subscription.stop();\n    });\n    var api = init(observer);\n    subscription = api ? __assign({}, subscription, api) : subscription;\n    if (isComplete) subscription.stop();\n    return subscription;\n  };\n\n  Action.prototype.applyMiddleware = function (middleware) {\n    return this.create(__assign({}, this.props, {\n      middleware: this.props.middleware ? [middleware].concat(this.props.middleware) : [middleware]\n    }));\n  };\n\n  Action.prototype.pipe = function () {\n    var funcs = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      funcs[_i] = arguments[_i];\n    }\n\n    var pipedUpdate = funcs.length === 1 ? funcs[0] : pipe.apply(void 0, funcs);\n    return this.applyMiddleware(function (update) {\n      return function (v) {\n        return update(pipedUpdate(v));\n      };\n    });\n  };\n\n  return Action;\n}();\n\nvar action = function action(init) {\n  return new Action({\n    init: init\n  });\n};\n\nvar Chainable = /*#__PURE__*/function () {\n  function Chainable(props) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    this.props = props;\n  }\n\n  Chainable.prototype.applyMiddleware = function (middleware) {\n    return this.create(__assign({}, this.props, {\n      middleware: this.props.middleware ? [middleware].concat(this.props.middleware) : [middleware]\n    }));\n  };\n\n  Chainable.prototype.pipe = function () {\n    var funcs = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      funcs[_i] = arguments[_i];\n    }\n\n    var pipedUpdate = funcs.length === 1 ? funcs[0] : pipe.apply(void 0, funcs);\n    return this.applyMiddleware(function (update) {\n      return function (v) {\n        return update(pipedUpdate(v));\n      };\n    });\n  };\n\n  Chainable.prototype.while = function (predicate) {\n    return this.applyMiddleware(function (update, complete) {\n      return function (v) {\n        return predicate(v) ? update(v) : complete();\n      };\n    });\n  };\n\n  Chainable.prototype.filter = function (predicate) {\n    return this.applyMiddleware(function (update) {\n      return function (v) {\n        return predicate(v) && update(v);\n      };\n    });\n  };\n\n  return Chainable;\n}();\n\nvar BaseMulticast = /*#__PURE__*/function (_super) {\n  __extends(BaseMulticast, _super);\n\n  function BaseMulticast() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.subscribers = [];\n    return _this;\n  }\n\n  BaseMulticast.prototype.complete = function () {\n    this.subscribers.forEach(function (subscriber) {\n      return subscriber.complete();\n    });\n  };\n\n  BaseMulticast.prototype.error = function (err) {\n    this.subscribers.forEach(function (subscriber) {\n      return subscriber.error(err);\n    });\n  };\n\n  BaseMulticast.prototype.update = function (v) {\n    for (var i = 0; i < this.subscribers.length; i++) {\n      this.subscribers[i].update(v);\n    }\n  };\n\n  BaseMulticast.prototype.subscribe = function (observerCandidate) {\n    var _this = this;\n\n    var observer = createObserver(observerCandidate, this.props);\n    this.subscribers.push(observer);\n    var subscription = {\n      unsubscribe: function unsubscribe() {\n        var index = _this.subscribers.indexOf(observer);\n\n        if (index !== -1) _this.subscribers.splice(index, 1);\n      }\n    };\n    return subscription;\n  };\n\n  BaseMulticast.prototype.stop = function () {\n    if (this.parent) this.parent.stop();\n  };\n\n  return BaseMulticast;\n}(Chainable);\n\nvar Multicast = /*#__PURE__*/function (_super) {\n  __extends(Multicast, _super);\n\n  function Multicast() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Multicast.prototype.create = function (props) {\n    return new Multicast(props);\n  };\n\n  return Multicast;\n}(BaseMulticast);\n\nvar multicast = function multicast() {\n  return new Multicast();\n};\n\nvar ValueReaction = /*#__PURE__*/function (_super) {\n  __extends(ValueReaction, _super);\n\n  function ValueReaction(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.scheduleVelocityCheck = function () {\n      return sync.postRender(_this.velocityCheck);\n    };\n\n    _this.velocityCheck = function (_a) {\n      var timestamp = _a.timestamp;\n\n      if (timestamp !== _this.lastUpdated) {\n        _this.prev = _this.current;\n      }\n    };\n\n    _this.prev = _this.current = props.value || 0;\n\n    _this.updateCurrent = function (v) {\n      return _this.current = v;\n    };\n\n    _this.getVelocityOfCurrent = function () {\n      return _this.getSingleVelocity(_this.current, _this.prev);\n    };\n\n    if (props.initialSubscription) _this.subscribe(props.initialSubscription);\n    return _this;\n  }\n\n  ValueReaction.prototype.create = function (props) {\n    return new ValueReaction(props);\n  };\n\n  ValueReaction.prototype.get = function () {\n    return this.current;\n  };\n\n  ValueReaction.prototype.getVelocity = function () {\n    return this.getVelocityOfCurrent();\n  };\n\n  ValueReaction.prototype.update = function (v) {\n    _super.prototype.update.call(this, v);\n\n    this.prev = this.current;\n    this.updateCurrent(v);\n\n    var _a = getFrameData(),\n        delta = _a.delta,\n        timestamp = _a.timestamp;\n\n    this.timeDelta = delta;\n    this.lastUpdated = timestamp;\n    sync.postRender(this.scheduleVelocityCheck);\n  };\n\n  ValueReaction.prototype.subscribe = function (observerCandidate) {\n    var sub = _super.prototype.subscribe.call(this, observerCandidate);\n\n    this.subscribers[this.subscribers.length - 1].update(this.current);\n    return sub;\n  };\n\n  ValueReaction.prototype.getSingleVelocity = function (current, prev) {\n    return typeof current === 'number' && typeof prev === 'number' ? velocityPerSecond(current - prev, this.timeDelta) : velocityPerSecond(parseFloat(current) - parseFloat(prev), this.timeDelta) || 0;\n  };\n\n  return ValueReaction;\n}(BaseMulticast);\n\nvar value = function value(_value, initialSubscription) {\n  return new ValueReaction({\n    value: _value,\n    initialSubscription: initialSubscription\n  });\n};\n\nvar createVectorTests = function createVectorTests(typeTests) {\n  var testNames = Object.keys(typeTests);\n\n  var isVectorProp = function isVectorProp(prop, key) {\n    return prop !== undefined && !typeTests[key](prop);\n  };\n\n  var getVectorKeys = function getVectorKeys(props) {\n    return testNames.reduce(function (vectorKeys, key) {\n      if (isVectorProp(props[key], key)) vectorKeys.push(key);\n      return vectorKeys;\n    }, []);\n  };\n\n  var testVectorProps = function testVectorProps(props) {\n    return props && testNames.some(function (key) {\n      return isVectorProp(props[key], key);\n    });\n  };\n\n  return {\n    getVectorKeys: getVectorKeys,\n    testVectorProps: testVectorProps\n  };\n};\n\nvar unitTypes = [px, percent, degrees, vh, vw];\n\nvar findUnitType = function findUnitType(prop) {\n  return unitTypes.find(function (type) {\n    return type.test(prop);\n  });\n};\n\nvar isUnitProp = function isUnitProp(prop) {\n  return Boolean(findUnitType(prop));\n};\n\nvar createAction = function createAction(action, props) {\n  return action(props);\n};\n\nvar createUnitAction = function createUnitAction(action, _a) {\n  var from = _a.from,\n      to = _a.to,\n      props = __rest(_a, [\"from\", \"to\"]);\n\n  var unitType = findUnitType(from) || findUnitType(to);\n  var transform = unitType.transform,\n      parse = unitType.parse;\n  return action(__assign({}, props, {\n    from: typeof from === 'string' ? parse(from) : from,\n    to: typeof to === 'string' ? parse(to) : to\n  })).pipe(transform);\n};\n\nvar createMixerAction = function createMixerAction(mixer) {\n  return function (action, _a) {\n    var from = _a.from,\n        to = _a.to,\n        props = __rest(_a, [\"from\", \"to\"]);\n\n    return action(__assign({}, props, {\n      from: 0,\n      to: 1\n    })).pipe(mixer(from, to));\n  };\n};\n\nvar createColorAction = /*#__PURE__*/createMixerAction(mixColor);\nvar createComplexAction = /*#__PURE__*/createMixerAction(mixComplex);\n\nvar createVectorAction = function createVectorAction(action, typeTests) {\n  var _a = createVectorTests(typeTests),\n      testVectorProps = _a.testVectorProps,\n      getVectorKeys = _a.getVectorKeys;\n\n  var vectorAction = function vectorAction(props) {\n    var isVector = testVectorProps(props);\n    if (!isVector) return action(props);\n    var vectorKeys = getVectorKeys(props);\n    var testKey = vectorKeys[0];\n    var testProp = props[testKey];\n    return getActionCreator(testProp)(action, props, vectorKeys);\n  };\n\n  return vectorAction;\n};\n\nvar getActionCreator = function getActionCreator(prop) {\n  if (typeof prop === 'number') {\n    return createAction;\n  } else if (isUnitProp(prop)) {\n    return createUnitAction;\n  } else if (color.test(prop)) {\n    return createColorAction;\n  } else if (complex.test(prop)) {\n    return createComplexAction;\n  } else {\n    return createAction;\n  }\n};\n\nvar decay = function decay(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  return action(function (_a) {\n    var complete = _a.complete,\n        update = _a.update;\n    var _b = props.velocity,\n        velocity = _b === void 0 ? 0 : _b,\n        _c = props.from,\n        from = _c === void 0 ? 0 : _c,\n        _d = props.power,\n        power = _d === void 0 ? 0.8 : _d,\n        _e = props.timeConstant,\n        timeConstant = _e === void 0 ? 350 : _e,\n        _f = props.restDelta,\n        restDelta = _f === void 0 ? 0.5 : _f,\n        modifyTarget = props.modifyTarget;\n    var elapsed = 0;\n    var amplitude = power * velocity;\n    var idealTarget = Math.round(from + amplitude);\n    var target = typeof modifyTarget === 'undefined' ? idealTarget : modifyTarget(idealTarget);\n    var process = sync.update(function (_a) {\n      var frameDelta = _a.delta;\n      elapsed += frameDelta;\n      var delta = -amplitude * Math.exp(-elapsed / timeConstant);\n      var isMoving = delta > restDelta || delta < -restDelta;\n      var current = isMoving ? target + delta : target;\n      update(current);\n\n      if (!isMoving) {\n        cancelSync.update(process);\n        complete();\n      }\n    }, true);\n    return {\n      stop: function stop() {\n        return cancelSync.update(process);\n      }\n    };\n  });\n};\n\nvar vectorDecay = /*#__PURE__*/createVectorAction(decay, {\n  from: number.test,\n  modifyTarget: function modifyTarget(func) {\n    return typeof func === 'function';\n  },\n  velocity: number.test\n});\n\nvar spring = function spring(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  return action(function (_a) {\n    var update = _a.update,\n        complete = _a.complete;\n    var _b = props.velocity,\n        velocity = _b === void 0 ? 0.0 : _b;\n    var _c = props.from,\n        from = _c === void 0 ? 0.0 : _c,\n        _d = props.to,\n        to = _d === void 0 ? 0.0 : _d,\n        _e = props.stiffness,\n        stiffness = _e === void 0 ? 100 : _e,\n        _f = props.damping,\n        damping = _f === void 0 ? 10 : _f,\n        _g = props.mass,\n        mass = _g === void 0 ? 1.0 : _g,\n        _h = props.restSpeed,\n        restSpeed = _h === void 0 ? 0.01 : _h,\n        _j = props.restDelta,\n        restDelta = _j === void 0 ? 0.01 : _j;\n    var initialVelocity = velocity ? -(velocity / 1000) : 0.0;\n    var t = 0;\n    var delta = to - from;\n    var position = from;\n    var prevPosition = position;\n    var process = sync.update(function (_a) {\n      var timeDelta = _a.delta;\n      t += timeDelta;\n      var dampingRatio = damping / (2 * Math.sqrt(stiffness * mass));\n      var angularFreq = Math.sqrt(stiffness / mass) / 1000;\n      prevPosition = position;\n\n      if (dampingRatio < 1) {\n        var envelope = Math.exp(-dampingRatio * angularFreq * t);\n        var expoDecay = angularFreq * Math.sqrt(1.0 - dampingRatio * dampingRatio);\n        position = to - envelope * ((initialVelocity + dampingRatio * angularFreq * delta) / expoDecay * Math.sin(expoDecay * t) + delta * Math.cos(expoDecay * t));\n      } else {\n        var envelope = Math.exp(-angularFreq * t);\n        position = to - envelope * (delta + (initialVelocity + angularFreq * delta) * t);\n      }\n\n      velocity = velocityPerSecond(position - prevPosition, timeDelta);\n      var isBelowVelocityThreshold = Math.abs(velocity) <= restSpeed;\n      var isBelowDisplacementThreshold = Math.abs(to - position) <= restDelta;\n\n      if (isBelowVelocityThreshold && isBelowDisplacementThreshold) {\n        position = to;\n        update(position);\n        cancelSync.update(process);\n        complete();\n      } else {\n        update(position);\n      }\n    }, true);\n    return {\n      stop: function stop() {\n        return cancelSync.update(process);\n      }\n    };\n  });\n};\n\nvar vectorSpring = /*#__PURE__*/createVectorAction(spring, {\n  from: number.test,\n  to: number.test,\n  stiffness: number.test,\n  damping: number.test,\n  mass: number.test,\n  velocity: number.test\n});\n\nvar inertia = function inertia(_a) {\n  var _b = _a.from,\n      from = _b === void 0 ? 0 : _b,\n      _c = _a.velocity,\n      velocity = _c === void 0 ? 0 : _c,\n      min = _a.min,\n      max = _a.max,\n      _d = _a.power,\n      power = _d === void 0 ? 0.8 : _d,\n      _e = _a.timeConstant,\n      timeConstant = _e === void 0 ? 700 : _e,\n      _f = _a.bounceStiffness,\n      bounceStiffness = _f === void 0 ? 500 : _f,\n      _g = _a.bounceDamping,\n      bounceDamping = _g === void 0 ? 10 : _g,\n      _h = _a.restDelta,\n      restDelta = _h === void 0 ? 1 : _h,\n      modifyTarget = _a.modifyTarget;\n  return action(function (_a) {\n    var update = _a.update,\n        _complete = _a.complete;\n    var prev = from;\n    var current = from;\n    var activeAnimation;\n    var isSpring = false;\n\n    var isLessThanMin = function isLessThanMin(v) {\n      return min !== undefined && v <= min;\n    };\n\n    var isMoreThanMax = function isMoreThanMax(v) {\n      return max !== undefined && v >= max;\n    };\n\n    var isOutOfBounds = function isOutOfBounds(v) {\n      return isLessThanMin(v) || isMoreThanMax(v);\n    };\n\n    var isTravellingAwayFromBounds = function isTravellingAwayFromBounds(v, currentVelocity) {\n      return isLessThanMin(v) && currentVelocity < 0 || isMoreThanMax(v) && currentVelocity > 0;\n    };\n\n    var onUpdate = function onUpdate(v) {\n      update(v);\n      prev = current;\n      current = v;\n      velocity = velocityPerSecond(current - prev, getFrameData().delta);\n\n      if (activeAnimation && !isSpring && isTravellingAwayFromBounds(v, velocity)) {\n        startSpring({\n          from: v,\n          velocity: velocity\n        });\n      }\n    };\n\n    var startAnimation = function startAnimation(animation, next) {\n      activeAnimation && activeAnimation.stop();\n      activeAnimation = animation.start({\n        update: onUpdate,\n        complete: function complete() {\n          if (next) {\n            next();\n            return;\n          }\n\n          _complete();\n        }\n      });\n    };\n\n    var startSpring = function startSpring(props) {\n      isSpring = true;\n      startAnimation(vectorSpring(__assign({}, props, {\n        to: isLessThanMin(props.from) ? min : max,\n        stiffness: bounceStiffness,\n        damping: bounceDamping,\n        restDelta: restDelta\n      })));\n    };\n\n    if (isOutOfBounds(from)) {\n      startSpring({\n        from: from,\n        velocity: velocity\n      });\n    } else if (velocity !== 0) {\n      var animation = vectorDecay({\n        from: from,\n        velocity: velocity,\n        timeConstant: timeConstant,\n        power: power,\n        restDelta: isOutOfBounds(from) ? 20 : restDelta,\n        modifyTarget: modifyTarget\n      });\n      startAnimation(animation, function () {\n        if (isOutOfBounds(current)) {\n          startSpring({\n            from: current,\n            velocity: velocity\n          });\n        } else {\n          _complete();\n        }\n      });\n    } else {\n      _complete();\n    }\n\n    return {\n      stop: function stop() {\n        return activeAnimation && activeAnimation.stop();\n      }\n    };\n  });\n};\n\nvar index = /*#__PURE__*/createVectorAction(inertia, {\n  from: number.test,\n  velocity: number.test,\n  min: number.test,\n  max: number.test,\n  damping: number.test,\n  stiffness: number.test,\n  modifyTarget: function modifyTarget(func) {\n    return typeof func === 'function';\n  }\n});\n\nvar frame = function frame() {\n  return action(function (_a) {\n    var update = _a.update;\n    var initialTime = 0;\n    var process = sync.update(function (_a) {\n      var timestamp = _a.timestamp;\n      if (!initialTime) initialTime = timestamp;\n      update(timestamp - initialTime);\n    }, true, true);\n    return {\n      stop: function stop() {\n        return cancelSync.update(process);\n      }\n    };\n  });\n};\n\nvar scrubber = function scrubber(_a) {\n  var _b = _a.from,\n      from = _b === void 0 ? 0 : _b,\n      _c = _a.to,\n      to = _c === void 0 ? 1 : _c,\n      _d = _a.ease,\n      ease = _d === void 0 ? linear : _d,\n      _e = _a.reverseEase,\n      reverseEase = _e === void 0 ? false : _e;\n\n  if (reverseEase) {\n    ease = createReversedEasing(ease);\n  }\n\n  return action(function (_a) {\n    var update = _a.update;\n    return {\n      seek: function seek(progress) {\n        return update(progress);\n      }\n    };\n  }).pipe(ease, function (v) {\n    return mix(from, to, v);\n  });\n};\n\nvar vectorScrubber = /*#__PURE__*/createVectorAction(scrubber, {\n  ease: function ease(func) {\n    return typeof func === 'function';\n  },\n  from: number.test,\n  to: number.test\n});\nvar clampProgress = /*#__PURE__*/clamp(0, 1);\n\nvar tween = function tween(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  return action(function (_a) {\n    var update = _a.update,\n        complete = _a.complete;\n    var _b = props.duration,\n        duration = _b === void 0 ? 300 : _b,\n        _c = props.ease,\n        ease = _c === void 0 ? easeOut : _c,\n        _d = props.flip,\n        flip = _d === void 0 ? 0 : _d,\n        _e = props.loop,\n        loop = _e === void 0 ? 0 : _e,\n        _f = props.yoyo,\n        yoyo = _f === void 0 ? 0 : _f,\n        _g = props.repeatDelay,\n        repeatDelay = _g === void 0 ? 0 : _g;\n    var _h = props.from,\n        from = _h === void 0 ? 0 : _h,\n        _j = props.to,\n        to = _j === void 0 ? 1 : _j,\n        _k = props.elapsed,\n        elapsed = _k === void 0 ? 0 : _k,\n        _l = props.flipCount,\n        flipCount = _l === void 0 ? 0 : _l,\n        _m = props.yoyoCount,\n        yoyoCount = _m === void 0 ? 0 : _m,\n        _o = props.loopCount,\n        loopCount = _o === void 0 ? 0 : _o;\n    var playhead = vectorScrubber({\n      from: from,\n      to: to,\n      ease: ease\n    }).start(update);\n    var currentProgress = 0;\n    var process;\n    var _isActive = false;\n\n    var reverseAnimation = function reverseAnimation(reverseEase) {\n      var _a;\n\n      if (reverseEase === void 0) {\n        reverseEase = false;\n      }\n\n      _a = [to, from], from = _a[0], to = _a[1];\n      playhead = vectorScrubber({\n        from: from,\n        to: to,\n        ease: ease,\n        reverseEase: reverseEase\n      }).start(update);\n    };\n\n    var isTweenComplete = function isTweenComplete() {\n      var isComplete = _isActive && elapsed > duration + repeatDelay;\n      if (!isComplete) return false;\n      if (isComplete && !loop && !flip && !yoyo) return true;\n      var overtime = elapsed - duration;\n      elapsed = overtime - repeatDelay;\n\n      if (loop && loopCount < loop) {\n        loopCount++;\n        return false;\n      } else if (flip && flipCount < flip) {\n        flipCount++;\n        reverseAnimation();\n        return false;\n      } else if (yoyo && yoyoCount < yoyo) {\n        yoyoCount++;\n        reverseAnimation(yoyoCount % 2 !== 0);\n        return false;\n      }\n\n      return true;\n    };\n\n    var updateTween = function updateTween() {\n      currentProgress = clampProgress(progress(0, duration, elapsed));\n      playhead.seek(currentProgress);\n    };\n\n    var startTimer = function startTimer() {\n      _isActive = true;\n      process = sync.update(function (_a) {\n        var delta = _a.delta;\n        elapsed += delta;\n        updateTween();\n\n        if (isTweenComplete()) {\n          cancelSync.update(process);\n          complete && sync.update(complete, false, true);\n        }\n      }, true);\n    };\n\n    var stopTimer = function stopTimer() {\n      _isActive = false;\n      if (process) cancelSync.update(process);\n    };\n\n    startTimer();\n    return {\n      isActive: function isActive() {\n        return _isActive;\n      },\n      getElapsed: function getElapsed() {\n        return clamp(0, duration, elapsed);\n      },\n      getProgress: function getProgress() {\n        return currentProgress;\n      },\n      stop: function stop() {\n        stopTimer();\n      },\n      pause: function pause() {\n        stopTimer();\n        return this;\n      },\n      resume: function resume() {\n        if (!_isActive) startTimer();\n        return this;\n      },\n      seek: function seek(newProgress) {\n        elapsed = mix(0, duration, newProgress);\n        sync.update(updateTween, false, true);\n        return this;\n      },\n      reverse: function reverse() {\n        reverseAnimation();\n        return this;\n      }\n    };\n  });\n};\n\nvar clampProgress$1 = /*#__PURE__*/clamp(0, 1);\n\nvar defaultEasings = function defaultEasings(values, easing) {\n  return values.map(function () {\n    return easing || easeOut;\n  }).splice(0, values.length - 1);\n};\n\nvar defaultTimings = function defaultTimings(values) {\n  var numValues = values.length;\n  return values.map(function (value, i) {\n    return i !== 0 ? i / (numValues - 1) : 0;\n  });\n};\n\nvar interpolateScrubbers = function interpolateScrubbers(input, scrubbers, update) {\n  var rangeLength = input.length;\n  var finalInputIndex = rangeLength - 1;\n  var finalScrubberIndex = finalInputIndex - 1;\n  var subs = scrubbers.map(function (scrub) {\n    return scrub.start(update);\n  });\n  return function (v) {\n    if (v <= input[0]) {\n      subs[0].seek(0);\n    }\n\n    if (v >= input[finalInputIndex]) {\n      subs[finalScrubberIndex].seek(1);\n    }\n\n    var i = 1;\n\n    for (; i < rangeLength; i++) {\n      if (input[i] > v || i === finalInputIndex) break;\n    }\n\n    var progressInRange = progress(input[i - 1], input[i], v);\n    subs[i - 1].seek(clampProgress$1(progressInRange));\n  };\n};\n\nvar keyframes = function keyframes(_a) {\n  var easings = _a.easings,\n      _b = _a.ease,\n      ease = _b === void 0 ? linear : _b,\n      times = _a.times,\n      values = _a.values,\n      tweenProps = __rest(_a, [\"easings\", \"ease\", \"times\", \"values\"]);\n\n  easings = Array.isArray(easings) ? easings : defaultEasings(values, easings);\n  times = times || defaultTimings(values);\n  var scrubbers = easings.map(function (easing, i) {\n    return vectorScrubber({\n      from: values[i],\n      to: values[i + 1],\n      ease: easing\n    });\n  });\n  return tween(__assign({}, tweenProps, {\n    ease: ease\n  })).applyMiddleware(function (update) {\n    return interpolateScrubbers(times, scrubbers, update);\n  });\n};\n\nvar physics = function physics(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  return action(function (_a) {\n    var complete = _a.complete,\n        update = _a.update;\n    var _b = props.acceleration,\n        acceleration = _b === void 0 ? 0 : _b,\n        _c = props.friction,\n        friction = _c === void 0 ? 0 : _c,\n        _d = props.velocity,\n        velocity = _d === void 0 ? 0 : _d,\n        springStrength = props.springStrength,\n        to = props.to;\n    var _e = props.restSpeed,\n        restSpeed = _e === void 0 ? 0.001 : _e,\n        _f = props.from,\n        from = _f === void 0 ? 0 : _f;\n    var current = from;\n    var process = sync.update(function (_a) {\n      var delta = _a.delta;\n      var elapsed = Math.max(delta, 16);\n      if (acceleration) velocity += velocityPerFrame(acceleration, elapsed);\n      if (friction) velocity *= Math.pow(1 - friction, elapsed / 100);\n\n      if (springStrength !== undefined && to !== undefined) {\n        var distanceToTarget = to - current;\n        velocity += distanceToTarget * velocityPerFrame(springStrength, elapsed);\n      }\n\n      current += velocityPerFrame(velocity, elapsed);\n      update(current);\n      var isComplete = restSpeed !== false && (!velocity || Math.abs(velocity) <= restSpeed);\n\n      if (isComplete) {\n        cancelSync.update(process);\n        complete();\n      }\n    }, true);\n    return {\n      set: function set(v) {\n        current = v;\n        return this;\n      },\n      setAcceleration: function setAcceleration(v) {\n        acceleration = v;\n        return this;\n      },\n      setFriction: function setFriction(v) {\n        friction = v;\n        return this;\n      },\n      setSpringStrength: function setSpringStrength(v) {\n        springStrength = v;\n        return this;\n      },\n      setSpringTarget: function setSpringTarget(v) {\n        to = v;\n        return this;\n      },\n      setVelocity: function setVelocity(v) {\n        velocity = v;\n        return this;\n      },\n      stop: function stop() {\n        return cancelSync.update(process);\n      }\n    };\n  });\n};\n\nvar vectorPhysics = /*#__PURE__*/createVectorAction(physics, {\n  acceleration: number.test,\n  friction: number.test,\n  velocity: number.test,\n  from: number.test,\n  to: number.test,\n  springStrength: number.test\n});\n\nvar multi = function multi(_a) {\n  var getCount = _a.getCount,\n      getFirst = _a.getFirst,\n      getOutput = _a.getOutput,\n      mapApi = _a.mapApi,\n      setProp = _a.setProp,\n      startActions = _a.startActions;\n  return function (actions) {\n    return action(function (_a) {\n      var update = _a.update,\n          _complete2 = _a.complete,\n          error = _a.error;\n      var numActions = getCount(actions);\n      var output = getOutput();\n\n      var updateOutput = function updateOutput() {\n        return update(output);\n      };\n\n      var numCompletedActions = 0;\n      var subs = startActions(actions, function (a, name) {\n        var hasCompleted = false;\n        return a.start({\n          complete: function complete() {\n            if (!hasCompleted) {\n              hasCompleted = true;\n              numCompletedActions++;\n              if (numCompletedActions === numActions) sync.update(_complete2);\n            }\n          },\n          error: error,\n          update: function update(v) {\n            setProp(output, name, v);\n            sync.update(updateOutput, false, true);\n          }\n        });\n      });\n      return Object.keys(getFirst(subs)).reduce(function (api, methodName) {\n        api[methodName] = mapApi(subs, methodName);\n        return api;\n      }, {});\n    });\n  };\n};\n\nvar composite = /*#__PURE__*/multi({\n  getOutput: function getOutput() {\n    return {};\n  },\n  getCount: function getCount(subs) {\n    return Object.keys(subs).length;\n  },\n  getFirst: function getFirst(subs) {\n    return subs[Object.keys(subs)[0]];\n  },\n  mapApi: function mapApi(subs, methodName) {\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      return Object.keys(subs).reduce(function (output, propKey) {\n        var _a;\n\n        if (subs[propKey][methodName]) {\n          args[0] && args[0][propKey] !== undefined ? output[propKey] = subs[propKey][methodName](args[0][propKey]) : output[propKey] = (_a = subs[propKey])[methodName].apply(_a, args);\n        }\n\n        return output;\n      }, {});\n    };\n  },\n  setProp: function setProp(output, name, v) {\n    return output[name] = v;\n  },\n  startActions: function startActions(actions, starter) {\n    return Object.keys(actions).reduce(function (subs, key) {\n      subs[key] = starter(actions[key], key);\n      return subs;\n    }, {});\n  }\n});\nvar DEFAULT_DURATION = 300;\n\nvar flattenTimings = function flattenTimings(instructions) {\n  var flatInstructions = [];\n  var lastArg = instructions[instructions.length - 1];\n  var isStaggered = typeof lastArg === 'number';\n  var staggerDelay = isStaggered ? lastArg : 0;\n  var segments = isStaggered ? instructions.slice(0, -1) : instructions;\n  var numSegments = segments.length;\n  var offset = 0;\n  segments.forEach(function (item, i) {\n    flatInstructions.push(item);\n\n    if (i !== numSegments - 1) {\n      var duration = item.duration || DEFAULT_DURATION;\n      offset += staggerDelay;\n      flatInstructions.push(\"-\" + (duration - offset));\n    }\n  });\n  return flatInstructions;\n};\n\nvar flattenArrayInstructions = function flattenArrayInstructions(instructions, instruction) {\n  Array.isArray(instruction) ? instructions.push.apply(instructions, flattenTimings(instruction)) : instructions.push(instruction);\n  return instructions;\n};\n\nvar convertDefToProps = function convertDefToProps(props, def, i) {\n  var duration = props.duration,\n      easings = props.easings,\n      times = props.times,\n      values = props.values;\n  var numValues = values.length;\n  var prevTimeTo = times[numValues - 1];\n  var timeFrom = def.at === 0 ? 0 : def.at / duration;\n  var timeTo = (def.at + def.duration) / duration;\n\n  if (i === 0) {\n    values.push(def.from);\n    times.push(timeFrom);\n  } else {\n    if (prevTimeTo !== timeFrom) {\n      if (def.from !== undefined) {\n        values.push(values[numValues - 1]);\n        times.push(timeFrom);\n        easings.push(linear);\n      }\n\n      var from = def.from !== undefined ? def.from : values[numValues - 1];\n      values.push(from);\n      times.push(timeFrom);\n      easings.push(linear);\n    } else if (def.from !== undefined) {\n      values.push(def.from);\n      times.push(timeFrom);\n      easings.push(linear);\n    }\n  }\n\n  values.push(def.to);\n  times.push(timeTo);\n  easings.push(def.ease || easeInOut);\n  return props;\n};\n\nvar timeline = function timeline(instructions, _a) {\n  var _b = _a === void 0 ? {} : _a,\n      duration = _b.duration,\n      elapsed = _b.elapsed,\n      ease = _b.ease,\n      loop = _b.loop,\n      flip = _b.flip,\n      yoyo = _b.yoyo;\n\n  var playhead = 0;\n  var calculatedDuration = 0;\n  var flatInstructions = instructions.reduce(flattenArrayInstructions, []);\n  var animationDefs = [];\n  flatInstructions.forEach(function (instruction) {\n    if (typeof instruction === 'string') {\n      playhead += parseFloat(instruction);\n    } else if (typeof instruction === 'number') {\n      playhead = instruction;\n    } else {\n      var def = __assign({}, instruction, {\n        at: playhead\n      });\n\n      def.duration = def.duration === undefined ? DEFAULT_DURATION : def.duration;\n      animationDefs.push(def);\n      playhead += def.duration;\n      calculatedDuration = Math.max(calculatedDuration, def.at + def.duration);\n    }\n  });\n  var tracks = {};\n  var numDefs = animationDefs.length;\n\n  for (var i = 0; i < numDefs; i++) {\n    var def = animationDefs[i];\n    var track = def.track;\n\n    if (track === undefined) {\n      throw new Error('No track defined');\n    }\n\n    if (!tracks.hasOwnProperty(track)) tracks[track] = [];\n    tracks[track].push(def);\n  }\n\n  var trackKeyframes = {};\n\n  for (var key in tracks) {\n    if (tracks.hasOwnProperty(key)) {\n      var keyframeProps = tracks[key].reduce(convertDefToProps, {\n        duration: calculatedDuration,\n        easings: [],\n        times: [],\n        values: []\n      });\n      trackKeyframes[key] = keyframes(__assign({}, keyframeProps, {\n        duration: duration || calculatedDuration,\n        ease: ease,\n        elapsed: elapsed,\n        loop: loop,\n        yoyo: yoyo,\n        flip: flip\n      }));\n    }\n  }\n\n  return composite(trackKeyframes);\n};\n\nvar listen = function listen(element, events, options) {\n  return action(function (_a) {\n    var update = _a.update;\n    var eventNames = events.split(' ').map(function (eventName) {\n      element.addEventListener(eventName, update, options);\n      return eventName;\n    });\n    return {\n      stop: function stop() {\n        return eventNames.forEach(function (eventName) {\n          return element.removeEventListener(eventName, update, options);\n        });\n      }\n    };\n  });\n};\n\nvar defaultPointerPos = function defaultPointerPos() {\n  return {\n    clientX: 0,\n    clientY: 0,\n    pageX: 0,\n    pageY: 0,\n    x: 0,\n    y: 0\n  };\n};\n\nvar eventToPoint = function eventToPoint(e, point) {\n  if (point === void 0) {\n    point = defaultPointerPos();\n  }\n\n  point.clientX = point.x = e.clientX;\n  point.clientY = point.y = e.clientY;\n  point.pageX = e.pageX;\n  point.pageY = e.pageY;\n  return point;\n};\n\nvar points = [/*#__PURE__*/defaultPointerPos()];\nvar isTouchDevice = false;\n\nif (typeof document !== 'undefined') {\n  var updatePointsLocation = function updatePointsLocation(_a) {\n    var touches = _a.touches;\n    isTouchDevice = true;\n    var numTouches = touches.length;\n    points.length = 0;\n\n    for (var i = 0; i < numTouches; i++) {\n      var thisTouch = touches[i];\n      points.push(eventToPoint(thisTouch));\n    }\n  };\n\n  listen(document, 'touchstart touchmove', {\n    passive: true,\n    capture: true\n  }).start(updatePointsLocation);\n}\n\nvar multitouch = function multitouch(_a) {\n  var _b = _a === void 0 ? {} : _a,\n      _c = _b.preventDefault,\n      preventDefault = _c === void 0 ? true : _c,\n      _d = _b.scale,\n      scale = _d === void 0 ? 1.0 : _d,\n      _e = _b.rotate,\n      rotate = _e === void 0 ? 0.0 : _e;\n\n  return action(function (_a) {\n    var update = _a.update;\n    var output = {\n      touches: points,\n      scale: scale,\n      rotate: rotate\n    };\n    var initialDistance = 0.0;\n    var initialRotation = 0.0;\n    var isGesture = points.length > 1;\n\n    if (isGesture) {\n      var firstTouch = points[0],\n          secondTouch = points[1];\n      initialDistance = distance(firstTouch, secondTouch);\n      initialRotation = angle(firstTouch, secondTouch);\n    }\n\n    var updatePoint = function updatePoint() {\n      if (isGesture) {\n        var firstTouch = points[0],\n            secondTouch = points[1];\n        var newDistance = distance(firstTouch, secondTouch);\n        var newRotation = angle(firstTouch, secondTouch);\n        output.scale = scale * (newDistance / initialDistance);\n        output.rotate = rotate + (newRotation - initialRotation);\n      }\n\n      update(output);\n    };\n\n    var onMove = function onMove(e) {\n      if (preventDefault || e.touches.length > 1) e.preventDefault();\n      sync.update(updatePoint);\n    };\n\n    var updateOnMove = listen(document, 'touchmove', {\n      passive: !preventDefault\n    }).start(onMove);\n    if (isTouchDevice) sync.update(updatePoint);\n    return {\n      stop: function stop() {\n        cancelSync.update(updatePoint);\n        updateOnMove.stop();\n      }\n    };\n  });\n};\n\nvar getIsTouchDevice = function getIsTouchDevice() {\n  return isTouchDevice;\n};\n\nvar point = /*#__PURE__*/defaultPointerPos();\nvar isMouseDevice = false;\n\nif (typeof document !== 'undefined') {\n  var updatePointLocation = function updatePointLocation(e) {\n    isMouseDevice = true;\n    eventToPoint(e, point);\n  };\n\n  listen(document, 'mousedown mousemove', true).start(updatePointLocation);\n}\n\nvar mouse = function mouse(_a) {\n  var _b = (_a === void 0 ? {} : _a).preventDefault,\n      preventDefault = _b === void 0 ? true : _b;\n  return action(function (_a) {\n    var update = _a.update;\n\n    var updatePoint = function updatePoint() {\n      return update(point);\n    };\n\n    var onMove = function onMove(e) {\n      if (preventDefault) e.preventDefault();\n      sync.update(updatePoint);\n    };\n\n    var updateOnMove = listen(document, 'mousemove').start(onMove);\n    if (isMouseDevice) sync.update(updatePoint);\n    return {\n      stop: function stop() {\n        cancelSync.update(updatePoint);\n        updateOnMove.stop();\n      }\n    };\n  });\n};\n\nvar getFirstTouch = function getFirstTouch(_a) {\n  var firstTouch = _a[0];\n  return firstTouch;\n};\n\nvar pointer = function pointer(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  return getIsTouchDevice() ? multitouch(props).pipe(function (_a) {\n    var touches = _a.touches;\n    return touches;\n  }, getFirstTouch) : mouse(props);\n};\n\nvar index$1 = function index$1(_a) {\n  if (_a === void 0) {\n    _a = {};\n  }\n\n  var x = _a.x,\n      y = _a.y,\n      props = __rest(_a, [\"x\", \"y\"]);\n\n  if (x !== undefined || y !== undefined) {\n    var applyXOffset_1 = applyOffset(x || 0);\n    var applyYOffset_1 = applyOffset(y || 0);\n    var delta_1 = {\n      x: 0,\n      y: 0\n    };\n    return pointer(props).pipe(function (point) {\n      delta_1.x = applyXOffset_1(point.x);\n      delta_1.y = applyYOffset_1(point.y);\n      return delta_1;\n    });\n  } else {\n    return pointer(props);\n  }\n};\n\nvar chain = function chain() {\n  var actions = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    actions[_i] = arguments[_i];\n  }\n\n  return action(function (_a) {\n    var update = _a.update,\n        _complete3 = _a.complete;\n    var i = 0;\n    var current;\n\n    var playCurrent = function playCurrent() {\n      current = actions[i].start({\n        complete: function complete() {\n          i++;\n          i >= actions.length ? _complete3() : playCurrent();\n        },\n        update: update\n      });\n    };\n\n    playCurrent();\n    return {\n      stop: function stop() {\n        return current && current.stop();\n      }\n    };\n  });\n};\n\nvar parallel = /*#__PURE__*/multi({\n  getOutput: function getOutput() {\n    return [];\n  },\n  getCount: function getCount(subs) {\n    return subs.length;\n  },\n  getFirst: function getFirst(subs) {\n    return subs[0];\n  },\n  mapApi: function mapApi(subs, methodName) {\n    return function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      return subs.map(function (sub, i) {\n        if (sub[methodName]) {\n          return Array.isArray(args[0]) ? sub[methodName](args[0][i]) : sub[methodName].apply(sub, args);\n        }\n      });\n    };\n  },\n  setProp: function setProp(output, name, v) {\n    return output[name] = v;\n  },\n  startActions: function startActions(actions, starter) {\n    return actions.map(function (action, i) {\n      return starter(action, i);\n    });\n  }\n});\n\nvar parallel$1 = function parallel$1() {\n  var actions = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    actions[_i] = arguments[_i];\n  }\n\n  return parallel(actions);\n};\n\nvar crossfade = function crossfade(a, b) {\n  return action(function (observer) {\n    var balance = 0;\n    var fadable = parallel$1(a, b).start(__assign({}, observer, {\n      update: function update(_a) {\n        var va = _a[0],\n            vb = _a[1];\n        observer.update(mix(va, vb, balance));\n      }\n    }));\n    return {\n      setBalance: function setBalance(v) {\n        return balance = v;\n      },\n      stop: function stop() {\n        return fadable.stop();\n      }\n    };\n  });\n};\n\nvar delay = function delay(timeToDelay) {\n  return action(function (_a) {\n    var complete = _a.complete;\n    var timeout = setTimeout(complete, timeToDelay);\n    return {\n      stop: function stop() {\n        return clearTimeout(timeout);\n      }\n    };\n  });\n};\n\nvar merge = function merge() {\n  var actions = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    actions[_i] = arguments[_i];\n  }\n\n  return action(function (observer) {\n    var subs = actions.map(function (thisAction) {\n      return thisAction.start(observer);\n    });\n    return {\n      stop: function stop() {\n        return subs.forEach(function (sub) {\n          return sub.stop();\n        });\n      }\n    };\n  });\n};\n\nvar schedule = function schedule(scheduler, schedulee) {\n  return action(function (_a) {\n    var _update = _a.update,\n        complete = _a.complete;\n    var latest;\n    var schedulerSub = scheduler.start({\n      update: function update() {\n        return latest !== undefined && _update(latest);\n      },\n      complete: complete\n    });\n    var scheduleeSub = schedulee.start({\n      update: function update(v) {\n        return latest = v;\n      },\n      complete: complete\n    });\n    return {\n      stop: function stop() {\n        schedulerSub.stop();\n        scheduleeSub.stop();\n      }\n    };\n  });\n};\n\nvar stagger = function stagger(actions, interval) {\n  var intervalIsNumber = typeof interval === 'number';\n  var actionsWithDelay = actions.map(function (a, i) {\n    var timeToDelay = intervalIsNumber ? interval * i : interval(i);\n    return chain(delay(timeToDelay), a);\n  });\n  return parallel$1.apply(void 0, actionsWithDelay);\n};\n\nvar styler = function styler() {\n  return invariant(false, 'styler has been removed from Popmotion in 9.0. Downgrade to 8.x or npm install stylefire');\n};\n\nexport { Action, ValueReaction, action, chain, composite, crossfade, vectorDecay as decay, delay, frame as everyFrame, index as inertia, keyframes, listen, merge, mouse, multicast, multitouch, parallel$1 as parallel, vectorPhysics as physics, index$1 as pointer, schedule, vectorSpring as spring, stagger, styler, timeline, tween, value };","// extracted by mini-css-extract-plugin\nmodule.exports = {\"note\":\"paint-module--note--3veZ8\"};"],"sourceRoot":""}